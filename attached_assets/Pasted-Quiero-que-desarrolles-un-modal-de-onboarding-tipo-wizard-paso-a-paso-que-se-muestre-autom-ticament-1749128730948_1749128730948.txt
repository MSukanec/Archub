Quiero que desarrolles un modal de onboarding tipo wizard paso a paso, que se muestre automÃ¡ticamente la primera vez que el usuario se registra. Debe estar integrado con Supabase y construido con React, Tailwind y Zustand.

ğŸ“Œ Estructura general
El wizard tendrÃ¡ 2 pasos principales, mÃ¡s un paso de confirmaciÃ³n final. Todo debe guardarse en Supabase mediante upsert en las tablas correspondientes.

ğŸ‘£ Paso 1: Datos de la organizaciÃ³n (tabla organization_preferences)
name â†’ Nombre de la organizaciÃ³n (input)

default_currency_id â†’ Lista desplegable (dropdown con datos de currencies)

default_wallet_id â†’ Lista desplegable (dropdown con datos de wallets)

pdf_template_id â†’ Lista desplegable (dropdown con datos de pdf_templates)

avatar_url â†’ OpciÃ³n de subir imagen o elegir una predeterminada

ğŸ‘£ Paso 2: InformaciÃ³n de perfil del usuario (tabla user_profile_data)
country â†’ Campo de texto o lista de paÃ­ses

age â†’ NÃºmero entero

discovered_by â†’ Dropdown con opciones: â€œGoogleâ€, â€œInstagramâ€, â€œRecomendadoâ€, â€œOtroâ€

âœ… Paso final: ConfirmaciÃ³n
Mostrar resumen editable de los datos ingresados

BotÃ³n "Confirmar y continuar"

Al confirmar:

Hacer upserts en:

organization_preferences

user_profile_data

user_preferences.onboarding_completed = true

Cerrar el modal

ğŸ”’ LÃ³gica condicional
Solo se muestra si user_preferences.onboarding_completed es false o null

Que pueda forzarse su apertura con un botÃ³n flotante para pruebas (modo desarrollo)

ğŸ§  TÃ©cnicamente
Usar Zustand para manejar el estado del wizard (paso actual, datos, errores, etc.)

Usar Supabase client para consultar e insertar datos

Validar que todos los campos estÃ©n completos antes de permitir avanzar

Usar React Hook Form o similar si querÃ©s estructurar los formularios

Usar Tailwind para estilizar el modal con buen diseÃ±o, modo oscuro compatible

Mostrar feedback visual: loading al enviar, toasts de Ã©xito o error

ğŸ–¥ UI deseada
Modal centrado, animado, con fondo oscuro desenfocado

Layout tipo formulario multipaso, con navegaciÃ³n "Siguiente / Anterior"

TÃ­tulo e Ã­cono para cada paso

Preview visual del avatar cargado

âš ï¸ Importante:

Todas las tablas ya existen en Supabase: organization_preferences, user_profile_data, user_preferences

El usuario ya estÃ¡ autenticado (auth.user()), pero todavÃ­a no tiene una organizaciÃ³n creada.
Por eso, el primer paso del onboarding serÃ¡ crear la organizaciÃ³n y luego usar su id para guardar los siguientes datos:

Insertar en organizations con el nombre

Guardar ese organization_id como last_organization_id en user_preferences

Luego usar ese organization_id para insertar en:

organization_preferences

organization_wallets (si se desea)

organization_currencies (si se desea)

UsÃ¡ useAuth() o useUser() para obtener los datos necesarios